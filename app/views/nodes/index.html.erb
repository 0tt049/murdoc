<h1>MURDOC</h1>

<div data-controller="search-nodes">
  <%= form_with url: nodes_path,
    method: :get,
    html: {class: "mb-4", data: {search_nodes_target: "form"}} do |f|
  %>
    <%= f.text_field :query,
      class: "form-control",
      placeholder: "Search nodes",
      value: params[:query],
      data: {
        search_nodes_target: "input",
        action: "keyup->search-nodes#update"
      }
    %>
  <% end %>

  <%= render partial: "list", locals: { nodes: @nodes } %>
</div>

<%= link_to "Home", root_path %>
